# Artemis Health Monitoring System - Log Files

This directory contains all log files generated by the Artemis Health Monitoring System.

## Directory Structure

```
logs/
├── system/          # General application logs
│   └── system.log
├── alerts/          # Health alert logs
│   └── alerts.log
└── training/        # Model training logs
    └── training.log
```

## Log File Descriptions

### System Logs (`system/system.log`)
Contains general application flow, data loading, and processing steps:
- Application startup and shutdown
- Data loading operations
- Processing milestones
- General operational messages
- Configuration loading
- Module initialization

**Example entries:**
```
2024-01-15 10:30:45 - artemis.main - INFO - System initialized successfully
2024-01-15 10:31:02 - artemis.data.loader - INFO - Loading sensor data from sensor_data_20240115.csv
2024-01-15 10:31:15 - artemis.layer1.behavior - INFO - Behavior analysis completed for animal A12345
```

### Alerts Logs (`alerts/alerts.log`)
Contains Layer 3 health alerts including:
- Fever alerts (temperature > 39.5°C with reduced motion)
- Heat stress alerts (high temperature with high activity)
- Estrus detection (temperature rise with increased activity)
- Prolonged inactivity alerts
- Sensor malfunction alerts
- Other health warnings

**Example entries:**
```
2024-01-15 11:45:23 - artemis.alerts - WARNING - [FEVER] Elevated temperature detected | Triggering values: {'temperature': 39.8, 'threshold': 39.5, 'activity': 0.32}
2024-01-15 14:22:10 - artemis.alerts - INFO - [ESTRUS] Fertility window detected | Triggering values: {'temp_rise': 0.4, 'activity_increase': 1.25}
```

### Training Logs (`training/training.log`)
Contains model training and evaluation information:
- Training progress (epoch-by-epoch)
- Loss and accuracy metrics
- Hyperparameters
- Model evaluation results
- Cross-validation scores
- Model saving/loading operations

**Example entries:**
```
2024-01-15 09:00:00 - artemis.training - INFO - Starting posture classification model training
2024-01-15 09:00:15 - artemis.training - INFO - Epoch 1 | train_loss: 0.4523 | train_accuracy: 0.7821 | val_loss: 0.4892 | val_accuracy: 0.7654 | Hyperparameters: learning_rate: 0.001 | batch_size: 32
2024-01-15 09:00:30 - artemis.training - INFO - Epoch 2 | train_loss: 0.3912 | train_accuracy: 0.8234 | val_loss: 0.4321 | val_accuracy: 0.8012
```

## Log Rotation

All log files are automatically rotated to prevent unbounded growth:

- **Rotation Trigger**: When file reaches 10MB (configurable)
- **Backup Files**: Keeps 5 backup copies (e.g., `system.log.1`, `system.log.2`, etc.)
- **Rotation Type**: Can be configured for size-based or time-based rotation
- **Configuration**: Settings in `config/config.yaml`

## Log Format

All log entries follow this format:
```
%(asctime)s - %(name)s - %(levelname)s - %(message)s
```

**Components:**
- `%(asctime)s`: Timestamp (YYYY-MM-DD HH:MM:SS)
- `%(name)s`: Logger name (e.g., artemis.layer1.behavior)
- `%(levelname)s`: Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
- `%(message)s`: Log message

## Log Levels

- **DEBUG**: Detailed diagnostic information (verbose, for development)
- **INFO**: General operational messages (normal operation)
- **WARNING**: Recoverable issues that should be noted
- **ERROR**: Failures that prevent specific operations
- **CRITICAL**: Critical system failures

## Accessing Logs

### View Recent Logs (Unix/Linux/Mac)
```bash
# View last 50 lines of system log
tail -n 50 logs/system/system.log

# Follow system log in real-time
tail -f logs/system/system.log

# Search for errors in all logs
grep -r "ERROR" logs/

# View alerts from today
grep "$(date +%Y-%m-%d)" logs/alerts/alerts.log
```

### View Recent Logs (Windows)
```powershell
# View last 50 lines of system log
Get-Content logs\system\system.log -Tail 50

# Follow system log in real-time
Get-Content logs\system\system.log -Wait

# Search for errors
Select-String -Path logs\*\*.log -Pattern "ERROR"
```

## Log Maintenance

- Log files are automatically rotated (no manual intervention needed)
- Old backup files (older than 5 rotations) are automatically deleted
- Log directories are created automatically by the logging system
- Consider archiving very old logs to separate storage if needed

## Troubleshooting

### No logs appearing?
1. Ensure `setup_logging()` has been called
2. Check that the application has write permissions to the `logs/` directory
3. Verify logging configuration in `config/config.yaml`

### Logs growing too fast?
1. Reduce `max_bytes` in `config/config.yaml` for more frequent rotation
2. Reduce `backup_count` to keep fewer old logs
3. Consider changing log level from DEBUG to INFO

### Missing specific logs?
1. Check that the handler is enabled in `config/config.yaml`
2. Verify the log level is appropriate (messages below the level won't appear)
3. Check that the correct logger is being used (e.g., 'artemis.alerts' for alerts)

## Configuration

Logging behavior is controlled by `config/config.yaml`. See the configuration file for detailed settings.

## More Information

For detailed usage instructions, see `docs/logging_usage.md`.
